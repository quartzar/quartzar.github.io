import{w as f,b as a,l as p}from"./nuxt-link.0ad8bf8d.js";import{u as y}from"./cookie.2ee1aa63.js";import"./app.config.5ff5ca90.js";const h=["p","h1","h2","h3","h4","h5","h6","li"];function n(r,e){return r.type===e||typeof r.type=="object"&&r.type.tag===e||r.tag===e}function c(r){return n(r,"text")||typeof r.children=="string"}function l(r){return Array.isArray(r.children)||typeof r.children=="string"?r.children:typeof r.children.default=="function"?r.children.default():[]}function u(r){if(!r)return"";if(Array.isArray(r))return r.map(u).join("");if(c(r))return r.children||r.value;const e=l(r);return Array.isArray(e)?e.map(u).join(""):""}function s(r,e=["p"]){if(Array.isArray(r))return r.flatMap(i=>s(i,e));let t=r;return e.some(i=>i==="*"||n(r,i))&&(t=l(r)||r,!Array.isArray(t)&&h.some(i=>n(r,i))&&(t=[t])),t}function o(r,e=["p"]){return r=Array.isArray(r)?r:[r],e.length?r.flatMap(t=>o(s(t,[e[0]]),e.slice(1))).filter(t=>!(c(t)&&u(t).trim()==="")):r}const b=r=>f(r,a().public.content.api.baseURL),C=()=>({unwrap:s,flatUnwrap:o}),g=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxtjs.org/guide/writing/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},T=()=>{const{experimental:r}=a().content;if(r.clientDB)return!0;const e=p().query;return Object.prototype.hasOwnProperty.call(e,"preview")&&!e.preview?!1:!!(e.preview||y("previewToken").value)};export{C as a,T as s,g as u,b as w};
