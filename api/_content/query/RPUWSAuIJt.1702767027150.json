[{"_path":"/projects/firstblog","_dir":"projects","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"First Project Post","description":"This is a test project post.","navTitle":"Test Piece","tag":"Proxmox","date":"2023-06-01","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is a test project page."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is how you could write an N-body simulation in C++:"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:projects:firstblog.md","_source":"content","_file":"projects/firstblog.md","_extension":"md"},{"_path":"/projects/nbody","_dir":"projects","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"N-body Modelling of Young Stellar Systems","description":"Harnessing the power of C++ and CUDA, I modeled the cosmic dance of young stars for my final year Astrophysics project, unveiling the gravitational mysteries of stellar cores through dynamic N-body simulations.","head":"hi","subtitle":"Journey through the stages of my final year Astrophysics project.","date":"2023-06-23","tag":"C++ | CUDA","layout":"project","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"intro"},"children":[{"type":"text","value":"Intro"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Stellar dynamics, especially in the realm of young binary and multiple star systems, often seem more like the stuff of sci-fi than reality. Yet these dynamics dictate the cosmic dance that stars partake in, and understanding them holds the key to unlocking many secrets of our universe."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To delve into this complex web, I recently completed my third year Astrophysics BSc project where I investigated the formation and evolution of young stellar systems. To do this, I needed to develop a gravitational "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"N-body simulation"}]},{"type":"text","value":"—a computational method used to predict the individual motions of a group of celestial objects interacting with each other gravitationally."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The project had a twofold aim:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Construct and validate an N-body simulator capable of accurately modelling the dynamical evolution of small-N systems,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Use this simulator to investigate the profound influence of initial conditions on star ejection patterns, binary formation, and the overall evolution of these systems."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this post, I will share the programmatic and analytical approaches that I adopted to bring this project to fruition. But first, a brief primer on N-body simulations."}]},{"type":"element","tag":"h3","props":{"id":"what-are-n-body-simulations"},"children":[{"type":"text","value":"What are N-body Simulations?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In physics, the "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/N-body_problem","rel":["nofollow"]},"children":[{"type":"text","value":"N-body problem"}]},{"type":"text","value":" involves attempting to predict the motion of multiple celestial objects, or '"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"bodies"}]},{"type":"text","value":"', that are interacting with each other "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"gravitationally"}]},{"type":"text","value":". For a system of two bodies, there exists a clear-cut solution, and even for the three-body problem, a solution can be found in its restricted form, which essentially involves two bodies and a third one of negligible mass. However, for systems with four or more bodies, no general analytical solution exists..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"However, thanks to advancements in computational power and algorithms, we are not left helpless in the face of this challenge. Enter "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/N-body_simulation","rel":["nofollow"]},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"N-body simulations"}]}]},{"type":"text","value":", a powerful computational tool that provides a numerical solution to this problem. These simulations can handle the dynamical interactions of "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"N"}]},{"type":"text","value":" number of objects or "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"bodies"}]},{"type":"text","value":" in a system, where each object influences every other. In our context, these 'bodies' refer to protostellar stars whose interactions are governed by gravitational forces."}]},{"type":"element","tag":"h2","props":{"id":"the-physics"},"children":[{"type":"text","value":"The Physics"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"N-body simulations generally involve the following steps:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Initialisation"}]},{"type":"text","value":": The initial conditions of the system are defined, including the number of bodies, their masses, positions, velocities, and other relevant parameters."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Force Calculations"}]},{"type":"text","value":": The forces between each pair of bodies are calculated."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Integration"}]},{"type":"text","value":": The equations of motion are integrated to determine the new positions and velocities of the bodies."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Analysis"}]},{"type":"text","value":": The results are analysed to glean insights into the system's evolution."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"While "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"initialisation"}]},{"type":"text","value":" and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"analysis"}]},{"type":"text","value":" are relatively self-explanatory, the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"force calculations"}]},{"type":"text","value":" and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"integration"}]},{"type":"text","value":" steps are where things get interesting. There are a number of different algorithms that can be used to compute the pair-wise forces between the bodies, each with their own advantages and disadvantages."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's first take a look at a simple example of the equations of motion for a system of two bodies. Under Newtonian gravity, the force between two bodies is given by:"}]},{"type":"element","tag":"div","props":{"className":["math","math-display"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-display"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.6861em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"F"}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mrel"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]}]},{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.7667em;vertical-align:-0.0833em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"text","value":"−"}]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"G"}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2222em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mbin"]},"children":[{"type":"text","value":"⋅"}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2222em;"},"children":[]}]},{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:1.7936em;vertical-align:-0.686em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mopen","nulldelimiter"]},"children":[]},{"type":"element","tag":"span","props":{"className":["mfrac"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:1.1076em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.314em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"],"style":"margin-right:0.02778em;"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.7401em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.989em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"2"}]}]}]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.23em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["frac-line"],"style":"border-bottom-width:0.04em;"},"children":[]}]},{"type":"element","tag":"span","props":{"style":"top:-3.677em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3011em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"1"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3011em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"2"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.686em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mclose","nulldelimiter"]},"children":[]}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.1667em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","accent"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.7079em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-3em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"r"}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.0134em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["accent-body"],"style":"left:-0.1944em;"},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"text","value":"^"}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mpunct"]},"children":[{"type":"text","value":","}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"where "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.6833em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"G"}]}]}]}]}]},{"type":"text","value":" is the gravitational constant, "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.5806em;vertical-align:-0.15em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3011em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"1"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"text","value":" and "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.5806em;vertical-align:-0.15em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3011em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"2"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"text","value":" are the masses of the two bodies, "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.4306em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"],"style":"margin-right:0.02778em;"},"children":[{"type":"text","value":"r"}]}]}]}]}]},{"type":"text","value":" is the distance between them, and "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.7079em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","accent"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.7079em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-3em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"r"}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.0134em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["accent-body"],"style":"left:-0.1944em;"},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"text","value":"^"}]}]}]}]}]}]}]}]}]}]}]},{"type":"text","value":" is the unit vector pointing from the first body to the second. Seems simple enough, right?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we adapt this equation to a system of "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"N"}]},{"type":"text","value":" bodies, let's first think about how we could implement this in code for a system of 10 bodies. Logically, we would need to do the following:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"For each body, loop through every other body in the system to calculate the force between them."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sum the forces between each pair of bodies to get the total acceleration of each body."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is known as a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"pairwise force calculation"}]},{"type":"text","value":" - and it get's really, "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"really"}]},{"type":"text","value":" slow as the number of bodies, "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"N"}]},{"type":"text","value":", increases - with a computational complexity of "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:1.0641em;vertical-align:-0.25em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"],"style":"margin-right:0.02778em;"},"children":[{"type":"text","value":"O"}]},{"type":"element","tag":"span","props":{"className":["mopen"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"],"style":"margin-right:0.10903em;"},"children":[{"type":"text","value":"N"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.8141em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-3.063em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"2"}]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mclose"]},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"text","value":". Adapting the above equation for a system of "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"N"}]},{"type":"text","value":" bodies, we can simply sum the forces between each pair of bodies:"}]},{"type":"element","tag":"div","props":{"className":["math","math-display"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-display"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.8361em;vertical-align:-0.15em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"F"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"i"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mrel"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]}]},{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.8333em;vertical-align:-0.15em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"G"}]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"i"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2222em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mbin"]},"children":[{"type":"text","value":"⋅"}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2222em;"},"children":[]}]},{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:3.881em;vertical-align:-2.0527em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mop","op-limits"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:1.8283em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-1.5407em;margin-left:0em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3.05em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mtable"]},"children":[{"type":"element","tag":"span","props":{"className":["col-align-c"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:1.1333em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-3.15em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"className":["mrel","mtight"]},"children":[{"type":"text","value":"≤"}]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"j"}]},{"type":"element","tag":"span","props":{"className":["mrel","mtight"]},"children":[{"type":"text","value":"≤"}]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.10903em;"},"children":[{"type":"text","value":"N"}]}]}]},{"type":"element","tag":"span","props":{"style":"top:-2.2611em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"j"}]},{"type":"element","tag":"span","props":{"className":["mrel","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mrel","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","vbox","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["thinbox","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["rlap","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.8889em;vertical-align:-0.1944em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["inner"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mrel","mtight"]},"children":[{"type":"text","value":""}]}]}]},{"type":"element","tag":"span","props":{"className":["fix"]},"children":[]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mrel","mtight"]},"children":[{"type":"text","value":"="}]}]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"i"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.6333em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3.05em;"},"children":[]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"span","props":{"className":["mop","op-symbol","large-op"]},"children":[{"type":"text","value":"∑"}]}]}]},{"type":"element","tag":"span","props":{"style":"top:-4.3em;margin-left:0em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3.05em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.10903em;"},"children":[{"type":"text","value":"N"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:2.0527em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.1667em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mopen","nulldelimiter"]},"children":[]},{"type":"element","tag":"span","props":{"className":["mfrac"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:1.1076em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.314em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"],"style":"margin-right:0.02778em;"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.7959em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.4231em;margin-left:-0.0278em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"ij"}]}]}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.0448em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"2"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.413em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.23em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["frac-line"],"style":"border-bottom-width:0.04em;"},"children":[]}]},{"type":"element","tag":"span","props":{"style":"top:-3.677em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"j"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.2861em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:1.099em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mclose","nulldelimiter"]},"children":[]}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.1667em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","accent"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.7079em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-3em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"r"}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.0134em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["accent-body"],"style":"left:-0.1944em;"},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"text","value":"^"}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"ij"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.2861em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mpunct"]},"children":[{"type":"text","value":","}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"where "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.6595em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"i"}]}]}]}]}]},{"type":"text","value":" and "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.854em;vertical-align:-0.1944em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"j"}]}]}]}]}]},{"type":"text","value":" are indices for the bodies, and "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.7167em;vertical-align:-0.2861em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"],"style":"margin-right:0.02778em;"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"ij"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.2861em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"text","value":" and "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.994em;vertical-align:-0.2861em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","accent"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.7079em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-3em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"r"}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.0134em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["accent-body"],"style":"left:-0.1944em;"},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"text","value":"^"}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"ij"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.2861em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"text","value":" are the distance and unit vector between bodies "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.6595em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"i"}]}]}]}]}]},{"type":"text","value":" and "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.854em;vertical-align:-0.1944em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"j"}]}]}]}]}]},{"type":"text","value":" respectively. In code, this would look something like this:"}]},{"type":"element","tag":"terminal","props":{"title":"Pairwise Force Calculation"},"children":[{"type":"element","tag":"code","props":{"className":["language-cpp"],"code":"for (int i = 0; i < N; i++) \n{\n    float acceleration_i = 0.f;\n\n    for (int j = 0; j < N; j++) \n    {\n        // We don't want to calculate the force between a body and itself\n        if (i == j) continue;\n\n        // Calculate the distance vector between the bodies\n        float3 r_ij = positions[j] - positions[i];\n\n        // Calculate the magnitude of the distance vector\n        float r_squared = r_ij.x * r_ij.x + r_ij.y * r_ij.y + r_ij.z * r_ij.z;\n\n        // Calculate the unit vector pointing from body i to body j\n        float3 r_hat = r_ij / sqrtf(r_squared);\n\n        // Calculate the force between the bodies\n        float force_ij = -G * masses[j] / r_squared;\n\n        // Add the force to the total acceleration of body i\n        acceleration_i += force_ij * r_hat;\n    }\n    return acceleration_i;\n}\n","language":"cpp","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" i "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-589151"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"; i "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" N; i"}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":") \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" acceleration_i "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-589151"},"children":[{"type":"text","value":"0."}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" j "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-589151"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"; j "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" N; j"}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":") \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"        // We don't want to calculate the force between a body and itself\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" (i "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" j) "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"continue"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"        // Calculate the distance vector between the bodies\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"        float3 r_ij "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"positions"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[j] "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"positions"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[i];\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"        // Calculate the magnitude of the distance vector\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" r_squared "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r_ij"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"x"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r_ij"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"x"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r_ij"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"y"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r_ij"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"y"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r_ij"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"z"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r_ij"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"z"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"        // Calculate the unit vector pointing from body i to body j\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"        float3 r_hat "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" r_ij "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"sqrtf"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"(r_squared);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"        // Calculate the force between the bodies\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" force_ij "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"G "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"masses"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[j] "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" r_squared;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"        // Add the force to the total acceleration of body i\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"        acceleration_i "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"+="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" force_ij "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" r_hat;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" acceleration_i;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Snippet: Simplified C++ function to calculate the gravitational force between bodies."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is, however, an issue..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As the bodies approach each other, the force between them "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"grows without bounds"}]},{"type":"text","value":", and the simulation becomes unstable. To remedy this, we can introduce a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"softening parameter"}]},{"type":"text","value":", "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.4306em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"ϵ"}]}]}]}]}]},{"type":"text","value":", which acts as a cut-off distance for the force calculation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Skipping a few boring derivations (and including a nifty little trick that requires less FLOPS when running on a GPU... more on that later), we can write the force calculation for a system of "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"N"}]},{"type":"text","value":" bodies as:"}]},{"type":"element","tag":"div","props":{"className":["math","math-display"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-display"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.6331em;vertical-align:-0.15em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"i"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mrel"]},"children":[{"type":"text","value":"≈"}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]}]},{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:2.5519em;vertical-align:-1.4304em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"text","value":"−"}]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"G"}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.1667em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mop","op-limits"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:1.05em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-1.8557em;margin-left:0em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3.05em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"className":["mrel","mtight"]},"children":[{"type":"text","value":"≤"}]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"j"}]},{"type":"element","tag":"span","props":{"className":["mrel","mtight"]},"children":[{"type":"text","value":"≤"}]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.10903em;"},"children":[{"type":"text","value":"N"}]}]}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3.05em;"},"children":[]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"span","props":{"className":["mop","op-symbol","large-op"]},"children":[{"type":"text","value":"∑"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:1.4304em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.1667em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mopen","nulldelimiter"]},"children":[]},{"type":"element","tag":"span","props":{"className":["mfrac"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:1.1214em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.1704em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mopen"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"text","value":"∥"}]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"ij"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.2861em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"text","value":"∥"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.7401em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.989em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"2"}]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2222em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mbin"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2222em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"ϵ"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.7401em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.989em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"2"}]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mclose"]},"children":[{"type":"element","tag":"span","props":{"className":["mclose"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.9396em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-3.3486em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mopen","nulldelimiter","sizing","reset-size3","size6"]},"children":[]},{"type":"element","tag":"span","props":{"className":["mfrac"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.8443em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.656em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size3","size1","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"2"}]}]}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.2255em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["frac-line","mtight"],"style":"border-bottom-width:0.049em;"},"children":[]}]},{"type":"element","tag":"span","props":{"style":"top:-3.384em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size3","size1","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"text","value":"3"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.344em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mclose","nulldelimiter","sizing","reset-size3","size6"]},"children":[]}]}]}]}]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"style":"top:-3.23em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["frac-line"],"style":"border-bottom-width:0.04em;"},"children":[]}]},{"type":"element","tag":"span","props":{"style":"top:-3.677em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"j"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.2861em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"ij"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.2861em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:1.1157em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mclose","nulldelimiter"]},"children":[]}]},{"type":"element","tag":"span","props":{"className":["mpunct"]},"children":[{"type":"text","value":","}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"where "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.5944em;vertical-align:-0.15em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"i"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"text","value":" is the acceleration of body "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.6595em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"i"}]}]}]}]}]},{"type":"text","value":", "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.7305em;vertical-align:-0.2861em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"ij"}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.2861em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"text","value":" is the distance vector between bodies "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.6595em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"i"}]}]}]}]}]},{"type":"text","value":" and "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.854em;vertical-align:-0.1944em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"],"style":"margin-right:0.05724em;"},"children":[{"type":"text","value":"j"}]}]}]}]}]},{"type":"text","value":", and "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.4306em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"ϵ"}]}]}]}]}]},{"type":"text","value":" is the softening parameter. Notice that "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.5806em;vertical-align:-0.15em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"i"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"text","value":" is not required anymore, as "},{"type":"element","tag":"span","props":{"className":["math","math-inline"]},"children":[{"type":"element","tag":"span","props":{"className":["katex"]},"children":[{"type":"element","tag":"span","props":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:0.5944em;vertical-align:-0.15em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"i"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mrel"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]}]},{"type":"element","tag":"span","props":{"className":["base"]},"children":[{"type":"element","tag":"span","props":{"className":["strut"],"style":"height:1em;vertical-align:-0.25em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathbf"]},"children":[{"type":"text","value":"F"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"i"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"className":["mord"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tag":"span","props":{"className":["msupsub"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.3117em;"},"children":[{"type":"element","tag":"span","props":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tag":"span","props":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tag":"span","props":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tag":"span","props":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"i"}]}]}]}]},{"type":"element","tag":"span","props":{"className":["vlist-s"]},"children":[{"type":"text","value":"​"}]}]},{"type":"element","tag":"span","props":{"className":["vlist-r"]},"children":[{"type":"element","tag":"span","props":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tag":"span","props":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"text","value":". Let's take a look at how this would look programatically:"}]},{"type":"element","tag":"terminal","props":{"title":"CPU Force Calculation"},"children":[{"type":"element","tag":"code","props":{"className":["language-cpp"],"code":"void bodyBodyInteraction(float4* pos, float4* acc, int N)\n{\n    for (int i = 0; i < N; i++)\n    {\n        for (int j = 0; j < N; j++)\n        {\n            if (i == j)\n                continue;\n            \n            float3 r;\n    \n            // r_ij -> AU [distance]\n            r.x = pos[j].x - pos[i].x;\n            r.y = pos[j].y - pos[i].y;\n            r.z = pos[j].z - pos[i].z;\n    \n            // distance squared == dot(r_ij, r_ij) + softening^2\n            float distSqr = r.x * r.x + r.y * r.y + r.z * r.z;\n            distSqr += SOFTENING * SOFTENING;\n    \n            // inverse distance cubed == 1 / distSqr^(3/2) [fastest method]\n            float distSixth = distSqr * distSqr * distSqr;\n            float invDistCube = 1.0f / sqrtf(distSixth);\n    \n            // force = mass_j * inverse distance cube\n            float f = pos[j].w * invDistCube;\n    \n            // acceleration = acceleration_i + force * r_ij\n            force[i].x += r.x * f * (float)BIG_G;\n            force[i].y += r.y * f * (float)BIG_G;\n            force[i].z += r.z * f * (float)BIG_G;\n        }\n    }\n}\n","language":"cpp","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"bodyBodyInteraction"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-586139"},"children":[{"type":"text","value":"float4"}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" pos, "}]},{"type":"element","tag":"span","props":{"class":"ct-586139"},"children":[{"type":"text","value":"float4"}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" acc, "}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" N)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" i "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-589151"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"; i "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" N; i"}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" j "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-589151"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"; j "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" N; j"}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" (i "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" j)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"continue"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            float3 r;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"            // r_ij -> AU [distance]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"x"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"pos"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[j]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"x"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"pos"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[i]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"x"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"y"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"pos"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[j]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"y"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"pos"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[i]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"y"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"z"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"pos"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[j]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"z"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"pos"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[i]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"z"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"            // distance squared == dot(r_ij, r_ij) + softening^2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" distSqr "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"x"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"x"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"y"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"y"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"z"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"z"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            distSqr "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"+="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" SOFTENING "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" SOFTENING;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"            // inverse distance cubed == 1 / distSqr^(3/2) [fastest method]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" distSixth "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" distSqr "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" distSqr "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" distSqr;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" invDistCube "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-589151"},"children":[{"type":"text","value":"1.0"}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"sqrtf"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"(distSixth);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"            // force = mass_j * inverse distance cube\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" f "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"pos"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[j]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"w"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" invDistCube;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-561204"},"children":[{"type":"text","value":"            // acceleration = acceleration_i + force * r_ij\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"force"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[i]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"x"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"+="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"x"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" f "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":")BIG_G;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"force"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[i]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"y"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"+="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"y"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" f "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":")BIG_G;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"force"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"[i]."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"z"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"+="}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-912143"},"children":[{"type":"text","value":"z"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" f "}]},{"type":"element","tag":"span","props":{"class":"ct-149616"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-880161"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":")BIG_G;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-428888"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-149616{color:#859900;}\n.ct-428888{color:#657B83;}\n.ct-880161{color:#586E75;font-weight:bold;}\n.ct-589151{color:#D33682;}\n.ct-561204{color:#93A1A1;font-style:italic;}\n.ct-912143{color:#268BD2;}\n.ct-586139{color:#CB4B16;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"intro","depth":2,"text":"Intro","children":[{"id":"what-are-n-body-simulations","depth":3,"text":"What are N-body Simulations?"}]},{"id":"the-physics","depth":2,"text":"The Physics"}]}},"_type":"markdown","_id":"content:projects:nbody.md","_source":"content","_file":"projects/nbody.md","_extension":"md"}]